import{S as V,i as Z,s as H,k as W,e as I,t as P,W as Y,d as w,m as L,c as y,a as M,h as z,b as D,g as $,K as N,X as J,E as S}from"../chunks/index-bae2fa0a.js";import{a as K}from"../chunks/store-e7619eac.js";import"../chunks/index-27c791b4.js";var q={},b={},F=34,E=10,k=13;function B(t){return new Function("d","return {"+t.map(function(a,n){return JSON.stringify(a)+": d["+n+'] || ""'}).join(",")+"}")}function Q(t,a){var n=B(t);return function(o,s){return a(n(o),s,t)}}function x(t){var a=Object.create(null),n=[];return t.forEach(function(o){for(var s in o)s in a||n.push(a[s]=s)}),n}function f(t,a){var n=t+"",o=n.length;return o<a?new Array(a-o+1).join(0)+n:n}function X(t){return t<0?"-"+f(-t,6):t>9999?"+"+f(t,6):f(t,4)}function G(t){var a=t.getUTCHours(),n=t.getUTCMinutes(),o=t.getUTCSeconds(),s=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":X(t.getUTCFullYear())+"-"+f(t.getUTCMonth()+1,2)+"-"+f(t.getUTCDate(),2)+(s?"T"+f(a,2)+":"+f(n,2)+":"+f(o,2)+"."+f(s,3)+"Z":o?"T"+f(a,2)+":"+f(n,2)+":"+f(o,2)+"Z":n||a?"T"+f(a,2)+":"+f(n,2)+"Z":"")}function ee(t){var a=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function o(e,r){var p,u,i=s(e,function(C,m){if(p)return p(C,m-1);u=C,p=r?Q(C,r):B(C)});return i.columns=u||[],i}function s(e,r){var p=[],u=e.length,i=0,C=0,m,U=u<=0,_=!1;e.charCodeAt(u-1)===E&&--u,e.charCodeAt(u-1)===k&&--u;function O(){if(U)return b;if(_)return _=!1,q;var R,A=i,T;if(e.charCodeAt(A)===F){for(;i++<u&&e.charCodeAt(i)!==F||e.charCodeAt(++i)===F;);return(R=i)>=u?U=!0:(T=e.charCodeAt(i++))===E?_=!0:T===k&&(_=!0,e.charCodeAt(i)===E&&++i),e.slice(A+1,R-1).replace(/""/g,'"')}for(;i<u;){if((T=e.charCodeAt(R=i++))===E)_=!0;else if(T===k)_=!0,e.charCodeAt(i)===E&&++i;else if(T!==n)continue;return e.slice(A,R)}return U=!0,e.slice(A,u)}for(;(m=O())!==b;){for(var j=[];m!==q&&m!==b;)j.push(m),m=O();r&&(j=r(j,C++))==null||p.push(j)}return p}function d(e,r){return e.map(function(p){return r.map(function(u){return h(p[u])}).join(t)})}function c(e,r){return r==null&&(r=x(e)),[r.map(h).join(t)].concat(d(e,r)).join(`
`)}function g(e,r){return r==null&&(r=x(e)),d(e,r).join(`
`)}function v(e){return e.map(l).join(`
`)}function l(e){return e.map(h).join(t)}function h(e){return e==null?"":e instanceof Date?G(e):a.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:o,parseRows:s,format:c,formatBody:g,formatRows:v,formatRow:l,formatValue:h}}var te=ee(","),ne=te.parse;function re(t){let a,n,o,s,d,c,g,v;return{c(){a=W(),n=I("div"),o=I("h1"),s=P("Import data"),d=W(),c=I("input"),this.h()},l(l){Y('[data-svelte="svelte-gpjllq"]',document.head).forEach(w),a=L(l),n=y(l,"DIV",{class:!0});var e=M(n);o=y(e,"H1",{});var r=M(o);s=z(r,"Import data"),r.forEach(w),d=L(e),c=y(e,"INPUT",{type:!0,accept:!0}),e.forEach(w),this.h()},h(){document.title="Import data",D(c,"type","file"),D(c,"accept","text/csv"),D(n,"class","content svelte-10k3ssc")},m(l,h){$(l,a,h),$(l,n,h),N(n,o),N(o,s),N(n,d),N(n,c),g||(v=J(c,"change",t[1]),g=!0)},p:S,i:S,o:S,d(l){l&&w(a),l&&w(n),g=!1,v()}}}function ae(t,a,n){let o;function s(){o=this.files,n(0,o)}return t.$$.update=()=>{if(t.$$.dirty&1&&o){let d=o[0];const c=new FileReader;c.onabort=()=>console.log("file reading was aborted"),c.onerror=()=>console.log("file reading has failed"),c.onload=()=>{const v=c.result.toString().replace(/;/g,","),l=r=>r.toLowerCase().replace(/\s/g,"-").replace(/[^a-z0-9-]/g,""),e=ne(v).map(r=>{const p=r["Exercise Name"];return{date:new Date(r.Date),workoutName:r["Workout Name"],exerciseName:p,exerciseId:l(p),reps:+r.Reps,weight:+r.Weight,weightUnit:r["Weight Unit"]}});K.set(e)},c.readAsText(d)}},[o,s]}class ce extends V{constructor(a){super(),Z(this,a,ae,re,H,{})}}export{ce as default};
